/**
 * @file Firestore Security Rules
 * @core_philosophy This ruleset focuses on securing data for a portfolio application,
 *  allowing public read access to projects and categories while restricting write access.
 *  Contact and support request submissions are publicly accessible for creation.
 * @data_structure Projects and categories are stored in top-level collections.
 *  Contacts and Support Requests are also stored in top-level collections.
 * @key_security_decisions Public read access to projects and categories is granted to showcase portfolio items.
 *  Write access to projects and categories is disallowed in this prototype phase. Contact and support requests are publicly accessible.
 * @denormalization None needed as no collaborative features or complex authorization schemes exist.
 * @structural_segregation Top-level collections are used to store different types of data,
 *  making it easier to manage access control.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Grants public read access to projects, but restricts write access.
     * @path /projects/{projectId}
     * @allow (get, list): Any user can read project details.
     * @deny (create, update, delete): No user can create, update, or delete projects in this prototype.
     * @principle Allows public read access for portfolio items while restricting write access to prevent unauthorized modifications.
     */
    match /projects/{projectId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Grants public read access to categories, but restricts write access.
     * @path /categories/{categoryId}
     * @allow (get, list): Any user can read category details.
     * @deny (create, update, delete): No user can create, update, or delete categories in this prototype.
     * @principle Allows public read access for service categories while restricting write access to prevent unauthorized modifications.
     */
    match /categories/{categoryId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to create contact form submissions, but restricts read, update, and delete access.
     * @path /contacts/{contactId}
     * @allow (create): Any user can submit a contact form.
     * @deny (get, list, update, delete): No user can read, list, update, or delete contact form submissions in this prototype.
     * @principle Allows public submission of contact forms while restricting access to the submitted data.
     */
    match /contacts/{contactId} {
      allow create: if true;
      allow get, list, update, delete: if false;
    }

    /**
     * @description Allows anyone to create support requests, but restricts read, update, and delete access.
     * @path /supportRequests/{supportRequestId}
     * @allow (create): Any user can submit a support request.
     * @deny (get, list, update, delete): No user can read, list, update, or delete support requests in this prototype.
     * @principle Allows public submission of support requests while restricting access to the submitted data.
     */
    match /supportRequests/{supportRequestId} {
      allow create: if true;
      allow get, list, update, delete: if false;
    }
  }
}