/**
 * @file Firebase Security Rules for the portfolio application.
 *
 * Core Philosophy:
 * This ruleset provides open read access to projects and categories,
 * but restricts write access to prevent unauthorized modifications.
 * Contact and support request submissions are unrestricted, assuming basic spam filtering is implemented elsewhere.
 *
 * Data Structure:
 * - /projects/{projectId}: Stores individual project details.
 * - /categories/{categoryId}: Stores service categories.
 * - /contacts/{contactId}: Stores contact form submissions.
 * - /supportRequests/{supportRequestId}: Stores support requests.
 *
 * Key Security Decisions:
 * - Public read access for "projects" and "categories".
 * - Unrestricted access to "contacts" and "supportRequests" is allowed, because the application doesn't have any authentication.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows public read access to projects, but restricts writes.
     * @path /projects/{projectId}
     * @allow get, list: Anyone can read project data.
     * @deny create, update, delete: No one can create, update, or delete projects.
     * @principle Grants public read access while restricting write operations.
     */
    match /projects/{projectId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows public read access to categories, but restricts writes.
     * @path /categories/{categoryId}
     * @allow get, list: Anyone can read category data.
     * @deny create, update, delete: No one can create, update, or delete categories.
     * @principle Grants public read access while restricting write operations.
     */
    match /categories/{categoryId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Allows anyone to create contact submissions.
     * @path /contacts/{contactId}
     * @allow create: Anyone can create a contact submission.
     * @deny get, list, update, delete: No one can read, list, update, or delete contact submissions.
     * @principle Grants public create access while restricting other operations.
     */
    match /contacts/{contactId} {
      allow create: if true;
      allow get, list, update, delete: if false;
    }

    /**
     * @description Allows anyone to create support requests.
     * @path /supportRequests/{supportRequestId}
     * @allow create: Anyone can create a support request.
     * @deny get, list, update, delete: No one can read, list, update, or delete support requests.
     * @principle Grants public create access while restricting other operations.
     */
    match /supportRequests/{supportRequestId} {
      allow create: if true;
      allow get, list, update, delete: if false;
    }
  }
}